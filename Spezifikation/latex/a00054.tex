\hypertarget{a00054}{\subsection{Server.\-Lobby\-Server Klassenreferenz}
\label{a00054}\index{Server.\-Lobby\-Server@{Server.\-Lobby\-Server}}
}
Klassendiagramm für Server.\-Lobby\-Server\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{a00054}
\end{center}
\end{figure}
\subsubsection*{Klassen}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{a00011}{Client\-Listener\-Thread}
\end{DoxyCompactItemize}
\subsubsection*{Öffentliche Methoden}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{a00054_ad240485402c357285d02709a08525d90}{receive\-Message} (\hyperlink{a00073}{Player} player, Com\-Chat\-Message chat)
\item 
void \hyperlink{a00054_a545d275e96d490093936496ef0c425d0}{receive\-Message} (\hyperlink{a00073}{Player} player, Com\-Client\-Quit quit)
\item 
void \hyperlink{a00054_a9c388e6df37f5c8263a4e3b54eb228ef}{receive\-Message} (\hyperlink{a00073}{Player} player, Com\-Create\-Game\-Request create)
\item 
void \hyperlink{a00054_aa636ef5ce845b8749bac73dabc5d8e74}{receive\-Message} (\hyperlink{a00073}{Player} player, Com\-Join\-Request join)
\item 
void \hyperlink{a00054_ac7ea664a020d82bb65372524a4fbeafb}{receive\-Message} (\hyperlink{a00073}{Player} player, Com\-Login\-Request login)
\item 
Com\-Init\-Lobby \hyperlink{a00054_a8f3543587bb516bbfa3cc5f3b087e3ac}{init\-Lobby} ()
\end{DoxyCompactItemize}


\subsubsection{Ausführliche Beschreibung}
Sie erstellt neue Spiele und verwaltet laufende Spiele. Auch wird der Chatverkehr über sie an die verbundenen Spieler weitergeleitet. Die Lobby\-Server-\/\-Klasse erbt Methoden zur Kommunikation vom \hyperlink{a00078}{Server}. \begin{DoxyAuthor}{Autor}
Viktoria 
\end{DoxyAuthor}


\subsubsection{Dokumentation der Elementfunktionen}
\hypertarget{a00054_a8f3543587bb516bbfa3cc5f3b087e3ac}{\index{Server\-::\-Lobby\-Server@{Server\-::\-Lobby\-Server}!init\-Lobby@{init\-Lobby}}
\index{init\-Lobby@{init\-Lobby}!Server::LobbyServer@{Server\-::\-Lobby\-Server}}
\paragraph[{init\-Lobby}]{\setlength{\rightskip}{0pt plus 5cm}Com\-Init\-Lobby Server.\-Lobby\-Server.\-init\-Lobby (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{a00054_a8f3543587bb516bbfa3cc5f3b087e3ac}


Baut ein neues Com\-Init\-Lobby Objekt und gibt es zurück. 

\begin{DoxyReturn}{Rückgabe}
Gibt das Com\-Init\-Lobby Objekt zurück 
\end{DoxyReturn}
\hypertarget{a00054_ad240485402c357285d02709a08525d90}{\index{Server\-::\-Lobby\-Server@{Server\-::\-Lobby\-Server}!receive\-Message@{receive\-Message}}
\index{receive\-Message@{receive\-Message}!Server::LobbyServer@{Server\-::\-Lobby\-Server}}
\paragraph[{receive\-Message}]{\setlength{\rightskip}{0pt plus 5cm}void Server.\-Lobby\-Server.\-receive\-Message (
\begin{DoxyParamCaption}
\item[{{\bf Player}}]{player, }
\item[{Com\-Chat\-Message}]{chat}
\end{DoxyParamCaption}
)}}\label{a00054_ad240485402c357285d02709a08525d90}


Diese Methode ist dafür zuständig eine Chatnachricht an alle Clients im Spiel zu verschicken. 

Dafür wird die Com\-Chat\-Message mit broadcast an alle Spieler im player\-Set verteilt. 
\begin{DoxyParams}{Parameter}
{\em player} & ist der Threat der die Nachricht erhalten hat \\
\hline
{\em chat} & ist das Com\-Object, das die Chatnachricht enthält \\
\hline
\end{DoxyParams}
\hypertarget{a00054_a545d275e96d490093936496ef0c425d0}{\index{Server\-::\-Lobby\-Server@{Server\-::\-Lobby\-Server}!receive\-Message@{receive\-Message}}
\index{receive\-Message@{receive\-Message}!Server::LobbyServer@{Server\-::\-Lobby\-Server}}
\paragraph[{receive\-Message}]{\setlength{\rightskip}{0pt plus 5cm}void Server.\-Lobby\-Server.\-receive\-Message (
\begin{DoxyParamCaption}
\item[{{\bf Player}}]{player, }
\item[{Com\-Client\-Quit}]{quit}
\end{DoxyParamCaption}
)}}\label{a00054_a545d275e96d490093936496ef0c425d0}


Diese Methode schließt die Verbindung, der \hyperlink{a00073}{Player} wird aus dem player\-Set (bzw. 

no\-Names Set) entfernt, der Name des Players wird aus dem Set names entfernt. War der Spieler im player\-Set, wird ein Com\-Update\-Playerlist mit broadcast an alle Clients verschickt. 
\begin{DoxyParams}{Parameter}
{\em player} & ist der Threat der die Nachricht erhalten hat \\
\hline
{\em quit} & ist das Com\-Object, welches angibt, dass der Spieler das Spiel vollständig verlässt \\
\hline
\end{DoxyParams}
\hypertarget{a00054_a9c388e6df37f5c8263a4e3b54eb228ef}{\index{Server\-::\-Lobby\-Server@{Server\-::\-Lobby\-Server}!receive\-Message@{receive\-Message}}
\index{receive\-Message@{receive\-Message}!Server::LobbyServer@{Server\-::\-Lobby\-Server}}
\paragraph[{receive\-Message}]{\setlength{\rightskip}{0pt plus 5cm}void Server.\-Lobby\-Server.\-receive\-Message (
\begin{DoxyParamCaption}
\item[{{\bf Player}}]{player, }
\item[{Com\-Create\-Game\-Request}]{create}
\end{DoxyParamCaption}
)}}\label{a00054_a9c388e6df37f5c8263a4e3b54eb228ef}


Diese Methode erstellt einen neuen \hyperlink{a00043}{Game\-Server} fügt ihm den \hyperlink{a00073}{Player} hinzu. 

Durch broadcast wird sowohl im \hyperlink{a00054}{Lobby\-Server} als auch im \hyperlink{a00043}{Game\-Server} ein Com\-Update\-Playerlist verschickt. Zusätzlich wird dem Client mit send\-To\-Player ein Com\-Init\-Game\-Lobby geschickt. 
\begin{DoxyParams}{Parameter}
{\em player} & ist der Threat der die Nachricht erhalten hat \\
\hline
{\em create} & ist das Com\-Object, welches angibt, dass der \hyperlink{a00073}{Player} ein neues Spiel erstellt hat \\
\hline
\end{DoxyParams}
\hypertarget{a00054_aa636ef5ce845b8749bac73dabc5d8e74}{\index{Server\-::\-Lobby\-Server@{Server\-::\-Lobby\-Server}!receive\-Message@{receive\-Message}}
\index{receive\-Message@{receive\-Message}!Server::LobbyServer@{Server\-::\-Lobby\-Server}}
\paragraph[{receive\-Message}]{\setlength{\rightskip}{0pt plus 5cm}void Server.\-Lobby\-Server.\-receive\-Message (
\begin{DoxyParamCaption}
\item[{{\bf Player}}]{player, }
\item[{Com\-Join\-Request}]{join}
\end{DoxyParamCaption}
)}}\label{a00054_aa636ef5ce845b8749bac73dabc5d8e74}


Diese Methode fügt einen \hyperlink{a00073}{Player} dem entsprechenden \hyperlink{a00043}{Game\-Server} hinzu. 

Falls das Passwort nicht leer ist wird geprüft, ob es mit dem Passwort des Spieles übereinstimmt, wenn nicht, wird ein Com\-Warning an den Client geschickt. Ansonsten wird und der \hyperlink{a00073}{Player} dem, durch Namen des Spielleiters identifizierten, durch Aufruf von change\-Server Gameserver übergeben. Durch broadcast wird sowohl im \hyperlink{a00054}{Lobby\-Server} als auch im \hyperlink{a00043}{Game\-Server} ein Com\-Update\-Playerlist verschickt. Zusätzlich wird dem joinenden\-Client mit send\-To\-Player ein Com\-Init\-Game\-Lobby geschickt. 
\begin{DoxyParams}{Parameter}
{\em player} & ist der Threat der die Nachricht erhalten hat \\
\hline
{\em join} & ist das Com\-Object, welches angibt, dass der \hyperlink{a00073}{Player} einem Spiel beitreten will \\
\hline
\end{DoxyParams}
\hypertarget{a00054_ac7ea664a020d82bb65372524a4fbeafb}{\index{Server\-::\-Lobby\-Server@{Server\-::\-Lobby\-Server}!receive\-Message@{receive\-Message}}
\index{receive\-Message@{receive\-Message}!Server::LobbyServer@{Server\-::\-Lobby\-Server}}
\paragraph[{receive\-Message}]{\setlength{\rightskip}{0pt plus 5cm}void Server.\-Lobby\-Server.\-receive\-Message (
\begin{DoxyParamCaption}
\item[{{\bf Player}}]{player, }
\item[{Com\-Login\-Request}]{login}
\end{DoxyParamCaption}
)}}\label{a00054_ac7ea664a020d82bb65372524a4fbeafb}


Diese Methode überprüft, ob der Name im Set names vorhanden ist, falls ja, wird ein Com\-Warning an den Client geschickt, falls nein, wird im \hyperlink{a00073}{Player} set\-Name aufgerufen. 

Der \hyperlink{a00073}{Player} wird aus dem no\-Names Set entfernt und in das player\-Set eingefügt. Der Name wird in das Set names eingefügt. Dem Client wird ein Com\-Server\-Acknowledgement geschickt. 
\begin{DoxyParams}{Parameter}
{\em player} & ist der Threat der die Nachricht erhalten hat \\
\hline
{\em login} & ist das Com\-Object, dass den Benutzernamen des Clients enthält \\
\hline
\end{DoxyParams}
